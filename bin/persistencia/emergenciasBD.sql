DROP TABLE SINTOMA IF EXISTS;
DROP TABLE PRIVADA IF EXISTS;
DROP TABLE ATIENDE IF EXISTS;
DROP TABLE BHOSPITAL IF EXISTS;
DROP TABLE REGISTROEMERGENCIA IF EXISTS;
DROP TABLE PACIENTE IF EXISTS;
DROP TABLE ESPECIALIDAD IF EXISTS;
DROP TABLE HOSPITAL IF EXISTS;
DROP TABLE AMBULANCIA IF EXISTS;

CREATE TABLE AMBULANCIA (
       NUMREGISTRO CHAR(10) NOT NULL
     , TIPO INT NOT NULL
     , LATITUD FLOAT NOT NULL
     , LONGITUD FLOAT NOT NULL
     , EQUIPO CHAR(10)
     , DISPONIBILIDAD INT
     , PRIMARY KEY (NUMREGISTRO)
);

CREATE TABLE HOSPITAL (
       NOMBRE CHAR(10) NOT NULL
     , DIRECCION CHAR(30) NOT NULL
     , LATITUD FLOAT NOT NULL
     , LONGITUD FLOAT NOT NULL
     , PRIMARY KEY (NOMBRE)
);

CREATE TABLE ESPECIALIDAD (
       NOMBRE CHAR(20) NOT NULL
     , PRIMARY KEY (NOMBRE)
);

CREATE TABLE PACIENTE (
       DNI CHAR(10) NOT NULL
     , NOMBRE CHAR(20)
     , APELLIDOS CHAR(30)
     , DIRECCION CHAR(30)
     , TELEFONO CHAR(9)
     , EDAD INT
     , SEXO CHAR(1)
     , PRIMARY KEY (DNI)
);

CREATE TABLE REGISTROEMERGENCIA (
       IDREGISTRO CHAR(10) NOT NULL
     , LATITUD FLOAT NOT NULL
     , LONGITUD FLOAT NOT NULL
     , DNIPACIENTE CHAR(10) NOT NULL
     , FECHA CHAR(6)
     , HORA CHAR(5)
     , IDAMBULANCIA CHAR(10)
     , IDHOSPITAL CHAR(10)
     , PRIMARY KEY (IDREGISTRO)
     , CONSTRAINT FK_REGISTROEMERGENCIA_1 FOREIGN KEY (DNIPACIENTE)
                  REFERENCES PACIENTE (DNI)
     , CONSTRAINT FK_REGISTROEMERGENCIA_2 FOREIGN KEY (IDAMBULANCIA)
                  REFERENCES AMBULANCIA (NUMREGISTRO)
     , CONSTRAINT FK_REGISTROEMERGENCIA_3 FOREIGN KEY (IDHOSPITAL)
                  REFERENCES HOSPITAL (NOMBRE)
);

CREATE TABLE BHOSPITAL (
       NUMREGISTRO CHAR(10) NOT NULL
     , IDHOSPITAL CHAR(10) NOT NULL
     , PRIMARY KEY (NUMREGISTRO)
     , CONSTRAINT FK_BHOSPITAL_1 FOREIGN KEY (NUMREGISTRO)
                  REFERENCES AMBULANCIA (NUMREGISTRO)
     , CONSTRAINT FK_BHOSPITAL_2 FOREIGN KEY (IDHOSPITAL)
                  REFERENCES HOSPITAL (NOMBRE)
);

CREATE TABLE ATIENDE (
       IDESPECIALIDAD CHAR(20) NOT NULL
     , IDHOSPITAL CHAR(10) NOT NULL
     , PRIMARY KEY (IDESPECIALIDAD, IDHOSPITAL)
     , CONSTRAINT FK_ATIENDE_1 FOREIGN KEY (IDHOSPITAL)
                  REFERENCES HOSPITAL (NOMBRE)
     , CONSTRAINT FK_ATIENDE_2 FOREIGN KEY (IDESPECIALIDAD)
                  REFERENCES ESPECIALIDAD (NOMBRE)
);

CREATE TABLE PRIVADA (
       NUMREGISTRO CHAR(10) NOT NULL
     , COMP CHAR(10) NOT NULL
     , PRIMARY KEY (NUMREGISTRO)
     , CONSTRAINT FK_PRIVADA_1 FOREIGN KEY (NUMREGISTRO)
                  REFERENCES AMBULANCIA (NUMREGISTRO)
);

CREATE TABLE SINTOMA (
       IDESPECIALIDAD CHAR(10) NOT NULL
     , IDREGISTRO CHAR(10) NOT NULL
     , ESTADO CHAR(10) NOT NULL
     , DURACION CHAR(10)
     , DESCRIPCION CHAR(10) NOT NULL
     , PRIMARY KEY (IDESPECIALIDAD, IDREGISTRO)
     , CONSTRAINT FK_SINTOMA_2 FOREIGN KEY (IDREGISTRO)
                  REFERENCES REGISTROEMERGENCIA (IDREGISTRO)
     , CONSTRAINT FK_SINTOMA_1 FOREIGN KEY (IDESPECIALIDAD)
                  REFERENCES ESPECIALIDAD (NOMBRE)
);

INSERT INTO HOSPITAL (NOMBRE, DIRECCION, LATITUD, LONGITUD)
VALUES ('Valencia al mar', 'Carrer del Rio Tajo,1', '39.4777', '-0.3298');

INSERT INTO HOSPITAL (NOMBRE, DIRECCION, LATITUD, LONGITUD)
VALUES ('La Fe', 'Avenida Fernando Abril', '39.4445', '-0.3768');

INSERT INTO HOSPITAL (NOMBRE, DIRECCION, LATITUD, LONGITUD)
VALUES ('Nou d`Octubre', 'Vall de la Ballestera, 59', '39.4781', '-0.4012');

INSERT INTO AMBULANCIA (NUMREGISTRO, EQUIPO, TIPO, LATITUD, LONGITUD, DISPONIBILIDAD)
VALUES ('1234ABC', 'Completo', '1',  '39.4747', '-0.3416', '1');

INSERT INTO PRIVADA (NUMREGISTRO, COMP)
VALUES ('1234ABC', 'AmbulSL');

INSERT INTO AMBULANCIA (NUMREGISTRO, EQUIPO, TIPO, LATITUD, LONGITUD, DISPONIBILIDAD)
VALUES ('5578BDC', 'Respiracion asistida', '0', '39.4695', '-0.3588', '1');

INSERT INTO BHOSPITAL (NUMREGISTRO, IDHOSPITAL)
VALUES ('5578BDC','La Fe')

INSERT INTO AMBULANCIA (NUMREGISTRO, EQUIPO, TIPO, LATITUD, LONGITUD, DISPONIBILIDAD)
VALUES ('9866HHY', 'Reanimacion', '0', '39.4568', '-0.3558', '1');

INSERT INTO BHOSPITAL (NUMREGISTRO, IDHOSPITAL)
VALUES ('9866HHY','La Fe')

INSERT INTO AMBULANCIA (NUMREGISTRO, EQUIPO, TIPO, LATITUD, LONGITUD, DISPONIBILIDAD)
VALUES ('0283JKL', 'Reanimacion', '0', '39.4508', '-0.3563', '1');

INSERT INTO BHOSPITAL (NUMREGISTRO, IDHOSPITAL)
VALUES ('0283JKL','Nou d`Octubre');

INSERT INTO AMBULANCIA (NUMREGISTRO, EQUIPO, TIPO, LATITUD, LONGITUD, DISPONIBILIDAD)
VALUES ('1987HNC', 'Completo','1', '39.4558', '-0.3473', '1');

INSERT INTO PRIVADA (NUMREGISTRO, COMP)
VALUES ('1987HNC','NISA')

INSERT INTO AMBULANCIA (NUMREGISTRO, EQUIPO, TIPO, LATITUD, LONGITUD, DISPONIBILIDAD)
VALUES ('9803FJH', 'Quemaduras','1', '39.4743', '-0.4562', '1');

INSERT INTO PRIVADA (NUMREGISTRO, COMP)
VALUES ('9803FJH','AmbulSL')

INSERT INTO AMBULANCIA (NUMREGISTRO, EQUIPO, TIPO, LATITUD, LONGITUD, DISPONIBILIDAD)
VALUES ('6532CFJ', 'SAMU','1', '39.4836', '-0.4507', '1');

INSERT INTO PRIVADA (NUMREGISTRO, COMP)
VALUES ('6532CFJ','NISA')

INSERT INTO AMBULANCIA (NUMREGISTRO, EQUIPO, TIPO, LATITUD, LONGITUD, DISPONIBILIDAD)
VALUES ('4388FCJ', 'SAMU','0', '39.5051', '-0.4254', '1');

INSERT INTO BHOSPITAL (NUMREGISTRO, IDHOSPITAL)
VALUES ('4388FCJ','La Fe')

INSERT INTO ESPECIALIDAD (NOMBRE)
VALUES('Traumatología');

INSERT INTO ATIENDE (IDESPECIALIDAD, IDHOSPITAL)
VALUES ('Traumatología', 'Valencia al mar');

INSERT INTO ATIENDE (IDESPECIALIDAD, IDHOSPITAL)
VALUES ('Traumatología', 'La Fe');

INSERT INTO ESPECIALIDAD (NOMBRE)
VALUES('Cardiología');

INSERT INTO ATIENDE (IDESPECIALIDAD, IDHOSPITAL)
VALUES ('Cardiología', 'La Fe');

INSERT INTO ATIENDE (IDESPECIALIDAD, IDHOSPITAL)
VALUES ('Cardiología', 'Nou d`Octubre');

INSERT INTO ESPECIALIDAD (NOMBRE)
VALUES ('Cirugía');

INSERT INTO ATIENDE (IDESPECIALIDAD, IDHOSPITAL)
VALUES ('Cirugía', 'Valencia al mar');

INSERT INTO ATIENDE (IDESPECIALIDAD, IDHOSPITAL)
VALUES ('Cirugía', 'La Fe');

INSERT INTO ATIENDE (IDESPECIALIDAD, IDHOSPITAL)
VALUES ('Cirugía', 'Nou d`Octubre');

INSERT INTO ESPECIALIDAD (NOMBRE)
VALUES ('Oncología');

INSERT INTO ATIENDE (IDESPECIALIDAD, IDHOSPITAL)
VALUES ('Oncología', 'La Fe');

INSERT INTO ESPECIALIDAD (NOMBRE)
VALUES ('Pediatría');

INSERT INTO ATIENDE (IDESPECIALIDAD, IDHOSPITAL)
VALUES ('Pediatría', 'La Fe');

INSERT INTO ATIENDE (IDESPECIALIDAD, IDHOSPITAL)
VALUES ('Pediatría', 'Nou d`Octubre');

INSERT INTO ESPECIALIDAD (NOMBRE)
VALUES ('Diagnostico Radiológico');

INSERT INTO ATIENDE (IDESPECIALIDAD, IDHOSPITAL)
VALUES ('Diagnostico Radiológico', 'Valencia al mar');

INSERT INTO ATIENDE (IDESPECIALIDAD, IDHOSPITAL)
VALUES ('Diagnostico Radiológico', 'La Fe');